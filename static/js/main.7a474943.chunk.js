(this["webpackJsonpctrl-web-client"]=this["webpackJsonpctrl-web-client"]||[]).push([[0],{101:function(e,t,n){},164:function(e,t){},169:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),l=(n(101),n(8)),i=n.n(l),s=n(19),u=n(14),d=n(15),m=n(18),h=n(17),f=(n(27),n(21)),p=n(191),v=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={id:!1},a}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#fff",fontSize:40,fontFamily:"Courier"}},"Ctrl-C")),r.a.createElement("hr",{style:{width:window.innerWidth}}),r.a.createElement("div",{className:"Start"},r.a.createElement(f.b,{className:"startlink",to:"/qrcode"},r.a.createElement(p.a,{className:"button button2",variant:"primary",size:"lg"},"Start"))))}}]),n}(r.a.Component),E=n(26),b=n.n(E),g=n(46),w=n.n(g),C=n(34),y=n.n(C),k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={pressed:!1,sessionId:"",id:!1},a}return Object(d.a)(n,[{key:"clicked",value:function(){console.log("Clicked")}},{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,b.a.post("https://ctrl-c-b.herokuapp.com/user").then((function(e){return t.setState({sessionId:e.data._id,loading:!1})})).catch((function(e){return console.log(e)}));case 3:localStorage.setItem("userId",this.state.sessionId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#fff",fontSize:40,fontFamily:"Courier"}},"Ctrl-C")),r.a.createElement("hr",{style:{width:window.innerWidth}}),r.a.createElement(w.a,{size:70,color:"#379683",loading:this.state.loading})):r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#fff",fontSize:40,fontFamily:"Courier"}},"Ctrl-C")),r.a.createElement("hr",{style:{width:window.innerWidth}}),r.a.createElement("h2",{className:"Instr",style:{textAlign:"center"}},"Scan QR using Android Client and press Next"),r.a.createElement(y.a,{value:this.state.sessionId,bgColor:"#022140",fgColor:"#379683"}),r.a.createElement(f.b,{to:"/ct"},r.a.createElement(p.a,{className:"button button2",style:{marginTop:10},variant:"primary",size:"lg"},"Start")))}}]),n}(r.a.Component),O=n(25),S=n(4),j=n(189),I=n(190),x=n(192),N=n(89),z=n.n(N),W=n(90),A=n.n(W)()("https://ctrl-c-b.herokuapp.com/"),D=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleClick=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.state={id:!1,session:!0,ct:[],open:!1},a.handleClick=a.handleClick.bind(Object(O.a)(a)),a.handleClose=a.handleClose.bind(Object(O.a)(a)),a}return Object(d.a)(n,[{key:"onUnload",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),A.emit("window_closed",localStorage.getItem("userId")),console.log("Closed"),t.returnValue="";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.emit("newUser",localStorage.getItem("userId")),e.next=3,b.a.get("https://ctrl-c-b.herokuapp.com/user/".concat(localStorage.getItem("userId"))).then((function(e){return t.setState({ct:e.data.text})})).catch((function(e){return t.setState({session:!1})}));case 3:window.addEventListener("unload",this.onUnload),A.on("new",Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://ctrl-c-b.herokuapp.com/user/".concat(localStorage.getItem("userId"))).then((function(e){return t.setState({ct:e.data.text})}));case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("unload",this.onUnload)}},{key:"render",value:function(){var e=this;return this.state.session?r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#fff",fontSize:40,fontFamily:"Courier"}},"Ctrl-C")),r.a.createElement(I.a,{trigger:"click",placement:"bottom",overlay:r.a.createElement(x.a,null,r.a.createElement(x.a.Content,null,r.a.createElement(y.a,{value:localStorage.getItem("userId"),size:200,bgColor:"#022140",fgColor:"#379683"})))},r.a.createElement(p.a,{variant:"primary",style:{backgroundColor:"#022140",color:"#fff",borderColor:"#379683"}},"QrCode"))),r.a.createElement("hr",{style:{width:window.innerWidth}}),r.a.createElement("div",{className:"body"},this.state.ct.slice(0).reverse().map((function(t,n){return r.a.createElement("div",null,r.a.createElement("div",{className:"info",onClick:function(){z()(t),e.handleClick()}},r.a.createElement("p",null,t)))}))),r.a.createElement(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:1e3,onClose:this.handleClose,message:"Text Copied"})):r.a.createElement(S.a,{to:"/"})}}]),n}(r.a.Component),U=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={userid:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(t=localStorage.getItem("userId"))&&this.setState({userid:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/"},r.a.createElement(v,null)),r.a.createElement(S.b,{path:"/qrcode"},r.a.createElement(k,null)),r.a.createElement(S.b,{path:"/ct"},r.a.createElement(D,null)))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,n){},96:function(e,t,n){e.exports=n(169)}},[[96,1,2]]]);
//# sourceMappingURL=main.7a474943.chunk.js.map